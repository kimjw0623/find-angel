# find-angel

## 1. 시세 추적
- Price_collector.py
- 2시간 정각마다 경매장 모든 페이지 검색
- 약 4천 페이지
- API 키를 10개 정도 쓰고 있으므로, 이론상 10분안에 끝나야 하는데 현재 동기적으로 실행 중이라 여전히 40분~1시간 소요.

## 2. 시세 판단
- market_price_cache.py
- DB를 스캔하여 아이템 패턴을 파악하고 시세 테이블(or 캐시) 생성

- 팔찌 패턴 분류
- 고대
- 고정2+부여3: 주특 2개(치특신), 특성+스탯(치특신+주스탯), 특성+잡(치특신+제인숙 or 치특신+a)
- 고정2+부여2: 주특 2개, 특성+스탯, 특성+잡
- 고정1+부여3: 주특 1개
- 유물
- 고정2+부여2: 주특 2개, 특성+스탯
- 고정2+부여1: 주특 2개, 특성+스탯, 특성+잡
- 고정1+부여2: 주특 1개

## 3. 최근 올라온 매물 스캔
- item_checker.py
- 루프 돌면서 새로운 매물 스캔, 적정가 판단 후 꿀매물이라고 판단 시 알림

## 4. 악세 최적의 연마 전략
- enhancement_sim_with_auction.py

# Todo(241119)
- [o] Cache 업데이트하는 동안 이전거 계속 쓰고 있기(너무 오래 걸려) / 왜 그 가격 나왔는 지 테스트할 때 캐시 또 업데이트하는 문제
- [o] price_calculation.log append랑 write 구분하기(매 로그를 새로 찍기)
- [o?] GUI 만들기 or 디코에다가 추가하기(아이템 정보 입력하면 키를 만들고 그 키를 입력하면 왜 그 가격이 나왔는지 출력?)
- 딜증 계산 추가하기 + 수동 검색 추가하기
- [o] 팔찌 10000개 이상 페이지카운트 안 뜨는 거 해결하기
- [o] 캐시 만들때 시간 24시간으로 냅둘 건지?
- [o] 악세 연마 시뮬할 때 시작아이템 세팅
- [o?] Asyncio, aiohttp 등으로 바꾸기

# Todo(241125)
- Asyncio, aiohttp 사용하기: 비동기 처리로 API 호출
    - async_api_client.py가 해당 처리를 담당
    - async_price_collector.py와 market_checker.py가 사용
    
- 일주일 이상 된 데이터는 하루에 두개~세개 timestamp 정도만 남기기
- 딜증 계산 추가하기 / 수동 검색 추가하기
- 코드 정리하기